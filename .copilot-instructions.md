# Copilot Instructions for vggt-dataset-builder

## Running Python Code

**IMPORTANT:** This repository uses `uv` for dependency management and Python execution. **Always use `uv run` when executing any Python code.**

### General Rule
```bash
# ✅ CORRECT - Always use this
uv run <command>

# ❌ WRONG - Don't use these
python <command>
python3 <command>
</command>

# Examples
uv run python script.py
uv run pytest tests/
uv run python -m pytest tests/test_triplet_detection.py -v
uv run python -c "some code"
```

### Common Tasks

**Running tests:**
```bash
uv run pytest tests/
uv run pytest tests/test_triplet_detection.py -v
```

**Running scripts:**
```bash
uv run python build_warp_dataset.py --input-dir input --output-dir output
uv run python aitoolkit-dataset.py --output-dir output --aitoolkit-dir aitoolkit-dataset
uv run python modelscope-dataset.py --output-dir output --modelscope-dir modelscope-dataset
uv run python vggt_point_cloud_viewer.py <image_path>
```

**Installing packages:**
```bash
uv pip install <package>
```

**Checking/formatting code:**
```bash
uv run pylint *.py
uv run black <file>
```

## Why `uv`?

This project uses `uv` (a fast Python package installer) to:
- Ensure consistent dependency versions across all developers and CI/CD
- Provide fast, reliable builds
- Manage the Python virtual environment (`.venv/`)

The `uv` tool automatically uses the project's configured virtual environment, ensuring all dependencies are available and correctly isolated.

## When in Doubt

If ever unsure whether to use `uv run`, **default to using it**. It won't hurt and ensures compatibility with the project setup.
